<mxfile host="app.diagrams.net" modified="2021-07-21T06:53:44.999Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36" etag="RD8Fv6nUIcuG7fZTK6el" version="14.9.0" type="github">
  <diagram id="T_NaOF4HCSvs0rHXY1GS" name="Page-1">
    <mxGraphModel dx="2952" dy="834" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="0" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="0hItoibZD7xrab0cP2cv-147" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="534.75" y="1700" width="179.5" height="155" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-1" value="预算" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-840" y="210" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-2" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-3" target="0hItoibZD7xrab0cP2cv-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-3" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-1050" y="100" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-4" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-5" target="0hItoibZD7xrab0cP2cv-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-5" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-1050" y="200" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-6" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-7" target="0hItoibZD7xrab0cP2cv-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-7" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-1050" y="330" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-8" value="扣减请求1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-970" y="130" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-9" value="扣减请求2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-970" y="210" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-10" value="扣减请求n" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-970" y="320" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-11" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-1035" y="313" as="sourcePoint" />
            <mxPoint x="-1035.5" y="283" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-12" value="" style="shape=flexArrow;endArrow=classic;html=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-690" y="250" as="sourcePoint" />
            <mxPoint x="-610" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=none;endFill=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-14" target="0hItoibZD7xrab0cP2cv-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-14" value="子预算1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-330" y="110" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=none;endFill=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-16" target="0hItoibZD7xrab0cP2cv-17">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-120" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-16" value="子预算2" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-330" y="220" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-17" value="总预算" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-120" y="220" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=none;endFill=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-19" target="0hItoibZD7xrab0cP2cv-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-19" value="子预算n" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-330" y="330" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-20" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-21" target="0hItoibZD7xrab0cP2cv-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-21" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-520" y="40" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-22" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-23" target="0hItoibZD7xrab0cP2cv-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-23" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-520" y="130" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-24" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-25">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-330" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-25" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-520" y="210" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-26" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-330" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-27" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-520" y="300" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-28" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-29" target="0hItoibZD7xrab0cP2cv-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-29" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-520" y="380" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-30" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.3333333333333333;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-31" target="0hItoibZD7xrab0cP2cv-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-31" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="-520" y="470" width="30" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-32" value="......" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-300" y="300" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-34" target="0hItoibZD7xrab0cP2cv-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-34" value="" style="shape=loopLimit;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1197" y="820" width="287" height="90" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-36" target="0hItoibZD7xrab0cP2cv-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-36" value="读取分库信息" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1103" y="650" width="99" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-38">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-1053.5" y="819.9999999999998" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-38" value="&lt;span&gt;计算总预算所在的DB及分桶数&lt;/span&gt;&lt;br&gt;&lt;span&gt;创建总预算记录&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1143" y="730" width="179" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-40" target="0hItoibZD7xrab0cP2cv-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-40" value="创建" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1092.25" y="470" width="79" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-41" value="循环遍历分库" style="text;html=1;resizable=0;autosize=1;align=center;verticalAlign=middle;points=[];fillColor=none;strokeColor=none;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-1033.5" y="790" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-42" value="创建子预算记录" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1109.5" y="850" width="112" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-44" target="0hItoibZD7xrab0cP2cv-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-44" value="预算创建者ID&lt;br&gt;预算总数&lt;br&gt;预算份数&lt;br&gt;外部业务号" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="-1109.5" y="540" width="113.5" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-45" value="结束" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1093" y="960" width="79" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-46" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-694" y="823" width="240" height="250" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-47" value="DBi" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-664" y="963" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-48" value="DB1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-549" y="853" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-49" value="DBn" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-549" y="963" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-50" value="..........." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-594" y="993" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-53" target="0hItoibZD7xrab0cP2cv-46">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-314" y="793" />
              <mxPoint x="-574" y="793" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-53" target="0hItoibZD7xrab0cP2cv-58">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-314" y="793" />
              <mxPoint x="-84" y="793" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-53" value="Hash1(PersonID)&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-424" y="743" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-54" value="&amp;lt;50" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-504" y="763" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-55" value="&amp;gt;=50" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-214" y="763" width="50" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-56" value="DB0" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-664" y="853" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-57" value="SH" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-594" y="833" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-58" value="" style="rounded=1;whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-204" y="823" width="240" height="250" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-59" value="DBi" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-174" y="963" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-60" value="DB1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-59" y="853" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-61" value="DBn" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-44" y="958" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-62" value="..........." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-104" y="983" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-63" value="DB0" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-174" y="853" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-64" value="GZ" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="-104" y="833" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-65" value="..........." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-654" y="938" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-66" value="..........." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-164" y="943" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-68" target="0hItoibZD7xrab0cP2cv-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-68" value="DB21" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-470" y="1390" width="60" height="56" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-70" target="0hItoibZD7xrab0cP2cv-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-70" value="DB0" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-730" y="1391" width="60" height="55" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-72" target="0hItoibZD7xrab0cP2cv-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-72" value="DB1" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-610" y="1390" width="60" height="56" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-73" value="..........." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-530" y="1396" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-74" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-75" target="0hItoibZD7xrab0cP2cv-77">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-75" value="DB22" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-355" y="1390" width="60" height="56" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.35;entryY=1.013;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-77" target="0hItoibZD7xrab0cP2cv-70">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-200" y="1506" />
              <mxPoint x="-709" y="1506" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-77" value="DB29" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-230" y="1390" width="60" height="56" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-78" value="..........." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-290" y="1396" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-79" value="确定主预算位置后，向后顺序数n-1个库作为子预算DB" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-640" y="1470" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-80" value="Hash2(PersonID)&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-764" y="793" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-81" value="Hash2(PersonID)&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-114" y="793" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-82" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="-334" y="1330" width="40" height="12" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-83" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="-333" y="1356" width="40" height="14" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-84" value="主预算库" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="-292" y="1326" width="73" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-85" value="从预算库" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;" vertex="1" parent="1">
          <mxGeometry x="-289" y="1353" width="73" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-87" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-86" target="0hItoibZD7xrab0cP2cv-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-86" value="Hash(PID)&amp;nbsp;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="-550" y="1324" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-89" value="" style="shape=loopLimit;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="201" y="1672" width="220" height="230" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-90" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="-39" y="1822" width="168" height="117" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-91" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="-301" y="1879" width="168" height="117" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-92" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-93" target="0hItoibZD7xrab0cP2cv-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-93" value="预算ID&lt;br&gt;扣减者pid&lt;br&gt;扣减金额&lt;br&gt;业务幂等ID" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" vertex="1" parent="1">
          <mxGeometry x="-279" y="1682" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-94" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-95" target="0hItoibZD7xrab0cP2cv-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-95" value="计算扣减预算所在db&lt;br&gt;计算扣减流水所在db" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-279" y="1764" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-96" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-97" target="0hItoibZD7xrab0cP2cv-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-97" value="生成扣减流水" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-279" y="1841" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-98" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-99" target="0hItoibZD7xrab0cP2cv-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-99" value="执行扣减" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-279" y="1899" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-101">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-219" y="2022" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-101" value="扣减流水置为成功" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-279" y="1952" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-102" value="扣减成功" style="ellipse;whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-277" y="2022" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-103" value="&lt;font color=&quot;#ff3333&quot;&gt;事务&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-173" y="1929" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-104" value="&lt;font style=&quot;font-size: 14px&quot;&gt;一阶段：预算充足&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-277" y="1652" width="120" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-105" value="" style="shape=flexArrow;endArrow=classic;html=1;width=12;endSize=7.33;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-133" y="1855.5" as="sourcePoint" />
            <mxPoint x="-73" y="1855.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-106" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-107" target="0hItoibZD7xrab0cP2cv-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-107" value="从库生成扣减流水&lt;br&gt;记录需要借的金额" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-15" y="1692" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-108" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-109" target="0hItoibZD7xrab0cP2cv-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-109" value="主库生成转移流水&lt;br&gt;记录出借的金额" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-15" y="1762" width="120" height="48" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-110" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-111" target="0hItoibZD7xrab0cP2cv-113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-111" value="主库执行扣减" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-15" y="1834" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-112" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-113" target="0hItoibZD7xrab0cP2cv-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-113" value="主库转移流水&lt;br&gt;设为成功" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-15" y="1891" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-114" value="从库扣减流水&lt;br&gt;设为成功" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="-15" y="1952" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-115" value="扣减成功" style="ellipse;whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-15" y="2022" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-116" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-114" target="0hItoibZD7xrab0cP2cv-115">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="45" y="2042" as="sourcePoint" />
            <mxPoint x="45" y="2102" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-117" value="&lt;font style=&quot;font-size: 14px&quot;&gt;二阶段：向主库借&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-29" y="1652" width="120" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-118" value="" style="shape=flexArrow;endArrow=classic;html=1;width=12;endSize=7.33;fillColor=#dae8fc;strokeColor=#6c8ebf;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="131" y="1850" as="sourcePoint" />
            <mxPoint x="191" y="1850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-119" value="&lt;font color=&quot;#ff3333&quot;&gt;事务&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="89" y="1867" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-120" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="221" y="1732" width="168" height="117" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-121" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-122" target="0hItoibZD7xrab0cP2cv-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-122" value="主预算生成扣减流水（扣减金额为0）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="245" y="1612" width="120" height="48" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-123" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-124" target="0hItoibZD7xrab0cP2cv-126">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-124" value="从预算生成转移流水（转移金额为余额）" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1684" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-125" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-126" target="0hItoibZD7xrab0cP2cv-128">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-126" value="从库预算更新为0" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1741" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-128" target="0hItoibZD7xrab0cP2cv-132">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-128" value="从库转移流水&lt;br&gt;设为成功" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1802" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-129" value="扣减成功" style="ellipse;whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="2072" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-130" value="&lt;font color=&quot;#ff3333&quot;&gt;事务&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="349" y="1777" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-131" value="&lt;font style=&quot;font-size: 14px&quot;&gt;三阶段：预算合并&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1572" width="120" height="10" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-132" value="累加转移金额" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1862" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-133" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeColor=#9673a6;fillColor=#e1d5e7;" vertex="1" parent="1">
          <mxGeometry x="221" y="1924" width="168" height="117" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-134" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-132" target="0hItoibZD7xrab0cP2cv-136">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="305" y="1912" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-135" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-136" target="0hItoibZD7xrab0cP2cv-138">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-136" value="主库执行增加" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1936" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-138" target="0hItoibZD7xrab0cP2cv-129">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-138" value="主库转移扣减&lt;br&gt;设为成功" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="245" y="1993" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-139" value="&lt;font color=&quot;#ff3333&quot;&gt;事务&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="349" y="1969" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-140" value="遍历所有从库" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="361" y="1652" width="92" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-141" target="0hItoibZD7xrab0cP2cv-145">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-141" value="从库生成扣减流水" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="564" y="1637" width="121" height="43" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-145" target="0hItoibZD7xrab0cP2cv-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-145" value="从库扣减剩余金额" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="564" y="1714" width="114" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-146" target="0hItoibZD7xrab0cP2cv-157">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-146" value="从库扣减流水记录已扣减金额及需借的金额" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="559.5" y="1777" width="130" height="59" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-150" value="&lt;font color=&quot;#ff3333&quot;&gt;事务&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="660" y="1757" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-151" value="初始化" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="710" y="1632.5" width="49" height="49" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-152" value="初始化" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="714.25" y="1764" width="49" height="49" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-153" value="冻结" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="763.25" y="1766" width="49" height="49" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-154" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="540.5" y="1879" width="168" height="117" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-156" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-157" target="0hItoibZD7xrab0cP2cv-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-157" value="主库执行扣减" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="564.5" y="1891" width="120" height="33" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-158" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0hItoibZD7xrab0cP2cv-159">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="624.5" y="2023.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-159" value="主库转移流水&lt;br&gt;设为成功" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="564.5" y="1948" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-160" value="&lt;font color=&quot;#ff3333&quot;&gt;事务&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="663.5" y="1927.5" width="40" height="20" as="geometry" />
        </mxCell>
        <mxCell id="0hItoibZD7xrab0cP2cv-161" value="从库扣减流水&lt;br&gt;设为成功" style="whiteSpace=wrap;html=1;rounded=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="567.5" y="2022" width="120" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
